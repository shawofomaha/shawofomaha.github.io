<!DOCTYPE html>
<html>
    <head>
        <style>
            #counter {
                font-size: 17vh;
                color: red;
                font: sans-serif;
                margin-left: 33%;
                
            }
        </style>
    
    </head>
    <body>
        <br /> <br />
        <button type="button" id="crazy">Go Crazy!</button>
        <h1>Background Color Match Game </h1>
        <span id="counter"></span><br />
        <span>Text</span><div>Press the "Go crazy" button and watch the random color match game! <span>It works by randomly setting background colors for each element and then seeing if any match. If they do, then the color MATCH GAME is on! It will continue until all elements (div's, span's, h1's, buttons, etc) have the same color.<span> The counter will need to get to around 500,000 tries (&#177; around 75K) to get them all matched!</span>
        <p>
        elit, tempor elit tempor quamquam, quid te singulis te sint e est non 
        transferrem. Eram ita ita sint singulis, si multos esse cillum arbitror, 
        ingeniis si doctrina in nam illum in ipsum ea laboris eruditionem se litteris, 
        sint arbitrantur nescius ipsum possumus, arbitror qui laboris, occaecat aliqua 
        se ullamco domesticarum.</p> Veniam nam ullamco o fore ex e anim probant 
        voluptatibus, non fugiat ut magna, ab incurreret relinqueret sed ut aliqua ut 
        malis, aliqua fidelissimae nostrud noster aliquip, se quae exercitation, fore 
        commodo imitarentur. Amet iis mentitum id eram. Sint ubi litteris se quis 
        cupidatat mentitum. Qui tamen tempor relinqueret, cernantur multos officia, 
        expetendis anim voluptate commodo eu tamen consequat eruditionem. Ubi de quorum 
        vidisse. Doctrina lorem non probant praetermissum, expetendis ad dolor senserit, 
        nostrud sunt ex tempor instituendarum, fabulas nulla arbitror incididunt.</span>eram lorem laborum lorem ex ut incurreret qui 
        singulis. Possumus enim velit o cillum ita velit transferrem expetendis esse 
        probant, vidisse cillum expetendis te ex illum iis esse. Dolor et ad sint 
        possumus, quibusdam non senserit do nescius aute dolore et nisi a ullamco 
        eruditionem iis consequat, nam multos proident officia, malis doctrina 
        sempiternum do ullamco eu vidisse do excepteur nisi occaecat. Do ipsum de 
        cillum.</div>
        
        <div>
            <span>More Text</span>
            <p>Text</p>
        </div>
        <br/><div>Et nostrud fidelissimae. Consequat an multos pariatur nam hic consequat non  
        expetendis. Ullamco enim de incididunt concursionibus. Mandaremus se dolor 
        doctrina, quorum ab ea quae consequat, arbitror velit quem quo lorem, velit ne 
        senserit et ipsum, illum consequat <span>Quis vidisse fidelissimae, eu do firmissimum in nostrud dolore elit consequat 
        varias ea senserit et veniam. Esse commodo appellat, deserunt ea ipsum o dolor 
        ita iis cillum voluptate, ullamco est aute. Officia quis vidisse quamquam, quis 
        sed occaecat quo sed sint legam veniam probant do legam possumus incididunt. 
        <p>  Offendit e culpa te pariatur varias quem id veniam, senserit anim offendit, non 
        malis litteris efflorescere hic ita legam quamquam sempiternum, singulis enim 
        quis id quis, consequat culpa cernantur proident de possumus e multos.</p><p>  Nisi 
        quibusdam hic commodo ea si nostrud a ullamco. Laborum nam culpa iudicem se 
        malis voluptate qui coniunctione, ullamco noster culpa te aute o lorem non 
        eiusmod, veniam ita incididunt est minim, senserit tamen mentitum si quibusdam 
        eram occaecat ut et duis in aute.<p> Possumus nisi proident mandaremus, ut 
        excepteur fidelissimae, fugiat de mandaremus in esse e et a illum ullamco. Ab 
        occaecat illustriora, deserunt nam sint expetendis, ne quis velit labore 
        mandaremus hic vidisse elit se consequat distinguantur.. </p> <p>  te fugiat noster, nostrud nisi te mentitum 
        exercitation, in si efflorescere, iis ipsum officia proident.<p>  Illum ex appellat 
        ut lorem se varias in nescius iis summis sed se sint occaecat, expetendis fugiat 
        doctrina vidisse, e ipsum ullamco coniunctione, offendit summis culpa senserit 
        varias, tempor summis tempor o commodo sunt sed ullamco imitarentur. Ullamco 
        minim commodo eiusmod. Hic quem ullamco vidisse. </p>  
        <br/>
        <div>Officia a aliqua senserit, senserit ea varias doctrina an illum et deserunt an 
            quis in ingeniis duis quamquam, laboris do quae quibusdam, quibusdam sunt illum 
            e esse quo ut amet a tamen te nostrud quo enim..<p>   Singulis si dolor sed quis id de 
            magna admodum ab quis domesticarum ullamco elit incididunt iis aute quamquam qui 
            quorum duis. Si id culpa aliqua quae, an et despicationes an ullamco enim malis 
            ex quae hic a magna mentitum, noster litteris se mentitum a labore transferrem 
            litteris fugiat ingeniis, voluptate enim summis ex summis, aliqua id e cillum 
            appellat. . </p> E laboris de cupidatat, <span>Tamen occaecat ne firmissimum, nam aute an dolore e enim quamquam occaecat id 
            admodum ab appellat, commodo cohaerescant et quamquam, aliquip quae deserunt ea 
            et nescius despicationes, se esse enim quem eiusmod. Ut quae occaecat 
            comprehenderit id o quid ingeniis fidelissimae ubi enim reprehenderit quibusdam 
            quem incurreret, in labore praesentibus a ex fugiat pariatur officia si nisi id 
            te aute deserunt, magna transferrem proident quae iudicem, qui ingeniis 
            concursionibus. <p>  Laborum ab noster senserit. Velit vidisse ne irure quid, quorum 
            praetermissum deserunt aute proident, senserit ab ullamco, a sint laborum non te 
             </p> </span>
        
        <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
        <script>
            function changeBackgroundColor(element, color){
                $(element).css("background-color", color);
            }
            
            $.fn.changeBGColor = function(options){
                var settings = $.extend({
                    color: "red",
                    mode: "normal"
                }, options);
                
                var randomColor = function(){
                    var red = parseInt(Math.random() * 25)*10;
                    var green = parseInt(Math.random() * 25)*10;
                    var blue = parseInt(Math.random() * 25)*10;
                    return "rgb("+red+", "+green+", "+blue+")";
                }
                
                var changeColor = function(element){
                    if(settings.color == "random"){
                        if(chosenColor == null){
                            chosenColor = randomColor();
                            $(element).css("background-color", chosenColor);
                            return chosenColor;
                        }else{
                            var color = randomColor();
                            $(element).css("background-color", color);
                            return color;
                        }
                    }else{
                        $(element).css("background-color", settings.color);
                        return settings.color;
                    }
                }
                
                var counter = 0;
                var keepTrying = function (){
                    var result = changeColor(this);
                    if(result != chosenColor){
                        counter++;
                        $("#counter").text(counter);
                        var newKeepTrying = keepTrying.bind(this);
                        setTimeout(newKeepTrying, 0);
                    }
                }
                
                var chosenColor;
                this.each(function(){
                    if(chosenColor == null){
                        changeColor(this);
                    }else if(chosenColor != null){
                        var result = changeColor(this);
                        if(result != chosenColor){
                            var newKeepTrying = keepTrying.bind(this);
                            setTimeout(newKeepTrying, 0);
                        }
                    }
                    
                });

                return this;
            }
            
            $("#crazy").click(function(){
               $("*:visible").changeBGColor({color: "random", mode: "crazySlotMachine"}); 
            });
        </script>
    </body>
</html>